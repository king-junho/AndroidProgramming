# í—¬ë¦°ì´ë“¤ì„ ìœ„í•œ ë‹¨ë°±ì§ˆ ë³´ì¶© ì‹ë‹¨ ì¶”ì²œ ì„œë¹„ìŠ¤

ìœ íŠœë¸Œ ë§í¬
https://youtu.be/mDkicFmwGYw

<img width="230" alt="image" src="https://user-images.githubusercontent.com/54922625/206559927-793f5dc9-c25c-45c1-9bb2-cb6491f119e5.jpeg"/>


## í”„ë¡œì íŠ¸ ì†Œê°œ
<img width="682" alt="image" src="https://user-images.githubusercontent.com/54922625/206564601-1d1581b9-2ee4-486b-a5d9-f6641d5391d9.png">

 ### ğŸ¾ ê¸°íš ì˜ë„
 

 
 #### MZì„¸ëŒ€ì—ì„œ íŠ¸ë Œë“œ í‚¤ì›Œë“œë¡œ ë½‘íˆëŠ” #ìš´ë™ #ìê¸°ê´€ë¦¬
MZ ì„¸ëŒ€ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ íŠ¸ë Œë“œì¸ #ìš´ë™ê³¼ #ìê¸°ê´€ë¦¬ëŠ” SNSì—ì„œ í° ì¸ê¸°ë¥¼ ëŒê³  ìˆìœ¼ë©°, ê±´ê°•ê³¼ ì²´ë ¥ ê´€ë¦¬ì— ëŒ€í•œ ê´€ì‹¬ì´ ë†’ì•„ì§€ ìˆëŠ” í˜„ìƒì— ì§‘ì¤‘í•´ ì•±ì„ êµ¬ìƒí–ˆë‹¤.

<table>
 <tr>
  <td><img width="531" alt="image" src="https://user-images.githubusercontent.com/54922625/206523332-8978f4d8-5465-46c7-ab64-0e652e1e43f0.png" width="230"></td>
  <td><img src="https://user-images.githubusercontent.com/54922625/206525532-0ba8adfe-5cdc-493f-89eb-431e55ada284.jpeg" width="230" height="350"></td>
 </tr>
 <tr>
  <td>"ëŒ€í•™ë‚´ì¼ í†µê³„ìë£Œ"</td>
  <td>ì¸ìŠ¤íƒ€ #ì˜¤ìš´ì™„ ì¸ì¦ê¸€</td>
 </tr>
</table>

 
 ### ğŸ¾ ì•„ì´ë””ì–´ ë‚´ê¸°
 ìš´ë™ ë£¨í‹´ì´ë‚˜ ìš´ë™ ë°©ë²•ì„ ì•Œë ¤ì£¼ëŠ” ì•±ì€ ë§ì§€ë§Œ ì‹ë‹¨ì„ ê´€ë¦¬í•´ì£¼ê³  ì¶”ì²œí•´ì£¼ê³  ê³µìœ í•˜ëŠ” ì•±ì€ ì—†ë‹¤ëŠ” ì‚¬ì‹¤ ë°œê²¬
 ì‹œëŒ€ìƒí™©ê³¼ ì•± ìƒí™©ì„ ê³ ë ¤í•´ ë‹¨ë°±ì§ˆ ì‹ë‹¨ì„ ì¶”ì²œí•˜ê³  ì„œë¡œ ê³µìœ í•  ìˆ˜ ìˆëŠ” **ê°œì¸ ë§ì¶¤í˜• ë‹¨ë°±ì§ˆ ì‹ë‹¨ ê´€ë¦¬ ë° ì œê³µ ì„œë¹„ìŠ¤**ë¥¼ ê¸°íší–ˆë‹¤.
 
 1. ì„¤ë¬¸ ì¡°ì‚¬ë¥¼ í†µí•´ ê°œì¸ì •ë³´ì™€ ìƒí’ˆì— ëŒ€í•œ ì„ í˜¸ë„ì¡°ì‚¬ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¨ë°±ì§ˆ ì‹ë‹¨ì„ ì¶”ì²œ, ì œê³µ
 2. í•˜ë£¨ ëª©í‘œ ë‹¨ë°±ì§ˆ ì„­ì·¨ìœ¨ì„ ì²´í¬í•´ ì£¼ëŠ” ê¸°ëŠ¥ ì œê³µ
 3. ì¹´í…Œê³ ë¦¬ ë³„ ê°œë³„ ìƒí’ˆ í™•ì¸ ê¸°ëŠ¥ ì œê³µ 


## ğŸ“”í…œí”Œë¦¿êµ¬ì¡°
- í´ë” êµ¬ì¡°ëŠ” í¬ê²Œ config í´ë”, src í´ë”, util í´ë”ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.

---

> config í´ë”
> 

```
ê·¼ê°„ì´ ë˜ëŠ” ì½”ë“œë“¤ì´ ìœ„ì¹˜í•´ ìˆë‹¤.

< ApplicationClass >

ì•±ì´ ì‹¤í–‰ë  ë•Œ ë§¨ ì²˜ìŒ ì‹¤í–‰ë˜ëŠ”(ì‹±ê¸€í†¤ ê°ì²´) ì½”ë“œë“¤ì´ ìœ„ì¹˜í•´ ìˆë‹¤.

< BaseActivity & BaseFragment >

ë¡œë”©ì°½ì„ ë„ìš°ëŠ” ê²ƒ, í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ ë„ìš°ëŠ” ê²ƒ ë“± ìì£¼ ì“°ì´ì§€ë§Œ, ì¤‘ë³µì´ ë§ì´ ë˜ëŠ” ì½”ë“œë¥¼ ëª¨ë“ˆí™” í•˜ì—¬ ì‘ì„±í•œ ì½”ë“œë“¤ì´ ìœ„ì¹˜í•´ ìˆë‹¤.

```

---

> src í´ë”
> 

```

src í´ë”ëŠ” Config/ ì˜ ë² ì´ìŠ¤ ì½”ë“œë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ, Activityë‚˜ Fragment ë“±ì„ ë™ì‘ì‹œí‚¤ëŠ”
ì¦‰ ì•±ì„ ë™ì‘ì‹œí‚¤ëŠ” êµ¬ì²´ì ì¸ êµ¬í˜„ì„ ì½”ë“œë“¤ì´ ìœ„ì¹˜í•´ ìˆë‹¤.

src í´ë”ëŠ” ë„ë©”ì¸(í™”ë©´)ë³„ë¡œ í´ë”ê°€ ë‚˜ëˆ ì ¸ìˆë‹¤.
src í´ë”ì˜ êµ¬ì¡°ëŠ” ë©”ì¸í™”ë©´, ìŠ¤í”Œë˜ì‰¬ í™”ë©´ ë“± í° ë„ë©”ì¸ë³„ë¡œ ë‚˜ëˆ ì ¸ìˆê³ , Fragmentë³„ ì‘ì€ ë„ë©”ì¸ìœ¼ë¡œ ë‚˜ëˆ ì ¸ìˆë‹¤.

- rv : ViewPagerë‚˜ RecyclerView ì„¤ì •ì— ëŒ€í•œ ì½”ë“œë“¤ì´ ìœ„ì¹˜í•´ ìˆë‹¤.

```

---

> util í´ë”
> 

```

ë„êµ¬ì²˜ëŸ¼ ì‚¬ìš©ë˜ëŠ” Dialog ë¡œë”© ì½”ë“œê°€ ìœ„ì¹˜í•´ ìˆë‹¤.

```
  


  
 [**ì•± ì²˜ìŒ ì‹¤í–‰ ì‹œ**]

 <table>
  <tr>
   <td><img src="https://user-images.githubusercontent.com/109564764/206642963-bac026b0-aa50-4e59-875d-edb0bbe7f753.png" width="200"/></td>
   <td><img src="https://user-images.githubusercontent.com/109564764/206642817-9d7d6d55-165f-498c-8b36-ab86365fea3c.png" width="200"/></td>
   <td><img src="https://user-images.githubusercontent.com/109564764/206642890-0d53c15e-2623-4822-a6cf-046637383962.png" width="200"/></td>
  </tr>
 </table>

 ì•±ì„ ì‹¤í–‰ í›„ ë¡œë”© ë  ë•Œ ë°±êµ¬ ìºë¦­í„°ê°€ ë‹´ê¸´ splash í™”ë©´ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.</br>
 ì‚¬ìš©ìëŠ” ê³„ì •ì´ ìˆëŠ” ê²½ìš° ë¡œê·¸ì¸í•˜ì—¬ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê³  ì²« ì‚¬ìš©ì ì¼ ê²½ìš°ì—ëŠ” íšŒì›ê°€ì…ì„ ì§„í–‰í•©ë‹ˆë‹¤.</br>
 íšŒì› ê°€ì…ì€ ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì´ë¦„ ì™¸ ê°œì¸ ì •ë³´ë“¤ì„ ì…ë ¥í•˜ê³  ì™„ë£Œ ì‹œ íŒŒì´ì–´ë² ì´ìŠ¤ DBë¡œ ì €ì¥ë©ë‹ˆë‹¤.</br>
 
 <br><br><br>
 
  [**ë©”ì¸ í˜ì´ì§€ (í”¼ë“œ)**]

 <table>
  <tr>
   <td><img src="https://user-images.githubusercontent.com/109564764/206645139-7b839e17-9724-40ef-879e-154716528bc5.png" width="200"/></td>
   <td><img src="https://user-images.githubusercontent.com/109564764/206645425-c005d9b4-5031-4dbd-8685-552a9e7561b3.png" width="200"/></td>
  </tr>
 </table>
 ë©”ì¸í™”ë©´ì— í”¼ë“œ ë¶€ë¶„ì—ì„œëŠ” ì¹´í…Œê³ ë¦¬ ë³„ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ìƒí’ˆë“¤ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </br>
 ìƒí•˜ ìŠ¤í¬ë¡¤ì„ í†µí•´ ì¹´í…Œê³ ë¦¬ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</br>
 <br><br>
 </table>
 
 
 [**ë©”ì¸ í˜ì´ì§€ (ìº˜ë¦°ë”)**]
  
 <table>
  <tr>
   <td><img src="https://user-images.githubusercontent.com/109564764/206646277-65fbb2c4-cdc1-4006-a4dd-18db0cd98254.png" width="200"/></td>
  </tr>
 </table>
 

 [**ë©”ì¸ í˜ì´ì§€ (ë§ˆì´í˜ì´ì§€)**]

 <table>
  <tr>
   <td><img src="https://user-images.githubusercontent.com/109564764/206646565-d1b6aaf0-37fb-4641-99a4-1356c36eea88.png" width="200"/></td>
   <td><img src="https://user-images.githubusercontent.com/109564764/206646614-7d204f81-ae3f-4766-804b-b5ed5d733530.png" width="200"/></td>
  </tr>
 </table>
 ë§ˆì´í˜ì´ì§€ ë¶€ë¶„ì—ì„œëŠ” ì‚¬ìš©ìì˜ í”„ë¡œí•„ê³¼ ì‹ ì²´ì •ë³´, ëª©í‘œ ë‹¨ë°±ì§ˆëŸ‰ì„ ë³¼ ìˆ˜ ìˆê³  ê°œì¸ ì •ë³´ì™€ ì„¤ë¬¸ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</br>
 ê°œì¸ì •ë³´ ìˆ˜ì • ë²„íŠ¼ì„ í´ë¦­ ì‹œ í”„ë¡œí•„ ìˆ˜ì • í™”ë©´ì´ ë‚˜íƒ€ë‚˜ê³  ê°œì¸ì •ë³´ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. </br>
 

 #### 1. ì‚¬ìš©ì ì •ë³´
   1. ì´ë©”ì¼ í˜•ì‹ê³¼ ë¹„ë°€ë²ˆí˜¸ í˜•ì‹(ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì ì¡°í•©), ë¹ˆì¹¸ ìœ ë¬´ë¥¼ í™•ì¸ í›„ ì´ìƒì´ ì—†ìœ¼ë©´ íšŒì›ê°€ì… í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.
      
   // íšŒì›ê°€ì… ì™„ë£Œ ë²„íŠ¼
  
    private void setListener() {
        binding.signupImgBack.setOnClickListener(view -> finish());

        //FirebaseAuth ì¸ìŠ¤í„´ìŠ¤ ê°€ì ¸ì˜¤ê¸°
        auth = FirebaseAuth.getInstance();

        //íšŒì›ê°€ì… ì™„ë£Œ ë²„íŠ¼ í´ë¦­ ë¦¬ìŠ¤ë„ˆ
        binding.signupTvFinish.setOnClickListener(view -> {
            //ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„° ê°’ ê°€ì ¸ì˜¤ê¸°
            emailValue = binding.signupEditId.getText().toString();
            pwValue = binding.signupEditPw.getText().toString();
            nameValue = binding.signupEditName.getText().toString();
            birthValue = binding.signupEditBirthday.getText().toString();
            phoneValue = binding.signupEditNumber.getText().toString();
            addressValue = binding.signupEditTown.getText().toString();
            //ë©”ì¼ í˜•ì‹ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
            if (Patterns.EMAIL_ADDRESS.matcher(emailValue).matches()) {
                //ë¹„ë°€ë²ˆí˜¸ í˜•ì‹ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
                if (Pattern.matches("^(?=.*[A-Za-z])(?=.*[0-9])(?=.*[\\$@\\$!%*#?&])[A-Za-z[0-9]\\$@\\$!%*#?&]{8,20}$", pwValue)) {
                    //í•­ëª© ë¹ ì§ ì—†ì´ ì…ë ¥í–ˆëŠ”ì§€ í™•ì¸
                    if (!nameValue.isEmpty() && !birthValue.isEmpty() && !phoneValue.isEmpty() && !addressValue.isEmpty()) {
                        createAccount(emailValue, pwValue);
                    } else {
                        Toast.makeText(getApplicationContext(), "ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•˜ì„¸ìš”.", Toast.LENGTH_SHORT).show();
                    }
                } else {
                    Toast.makeText(getApplicationContext(), "8~16ì ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.", Toast.LENGTH_SHORT).show();
                }
            } else {
                Toast.makeText(getApplicationContext(), "ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
            }
        });

        íšŒì›ê°€ì… í¼ ì…ë ¥í•„ë“œì— í…ìŠ¤íŠ¸ ë³€ê²½ ë¦¬ìŠ¤ë„ˆ ì¶”
        binding.signupEditId.addTextChangedListener(new EditTextWatcher());
        binding.signupEditPw.addTextChangedListener(new EditTextWatcher());
        binding.signupEditName.addTextChangedListener(new EditTextWatcher());
        binding.signupEditTown.addTextChangedListener(new EditTextWatcher());
        binding.signupEditBirthday.addTextChangedListener(new EditTextWatcher());
        binding.signupEditNumber.addTextChangedListener(new EditTextWatcher());
    }

  
   2. ì´ë©”ì¼ ì¤‘ë³µì—†ì´ íšŒì›ê°€ì…ì— ì„±ê³µí•˜ë©´ Firebase Authenticationì— ê³„ì •ì„ ë“±ë¡í•œë‹¤. ì‹¤íŒ¨ ì‹œ Toast ë©”ì„¸ì§€ ì¶œë ¥

   ``` 
//íšŒì›ê°€ì… í•¨ìˆ˜
private void createAccount(String email, String password) {
        //Firebaseë¥¼ ì´ìš©í•˜ì—¬ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‚¬ìš©ì ê³„ì • ìƒì„±
        auth.createUserWithEmailAndPassword(email, password)
                .addOnCompleteListener(this, task -> {
                    if (task.isSuccessful()) {//ê³„ì • ìƒì„± ì„±ê³µ
                        FirebaseUser user = auth.getCurrentUser();
                        if (user != null) {//ìƒì„±ëœ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                            String userEmail = user.getEmail();
                            String uid = user.getUid();

                            //ì •ë³´ì— ë§ê²Œ UI ì—…ë°ì´íŠ¸ ë° ì‚¬ìš©ì ì •ë³´ ì €ì¥ í•¨ìˆ˜ í˜¸ì¶œ
                            updateUI(uid, userEmail, pwValue, nameValue, birthValue, phoneValue, addressValue);
                            writeNewUser(uid, nameValue, birthValue, phoneValue, addressValue);

                            //ì„¤ë¬¸ì¡°ì‚¬ ì•¡í‹°ë¹„í‹°ë¡œ ì´ë™
                            Intent intent = new Intent(this, SurveyActivity.class);
                            intent.putExtra("user_id", userEmail);
                            startActivity(intent);
                        }
                    } else {
                        //ê³„ì • ìƒì„± ì‹¤íŒ¨
                        Toast.makeText(getApplicationContext(), "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
                        //UIì´ˆê¸° ìƒíƒœë¡œ ì—…ë°ì´íŠ¸íŠ¸
                        updateUI(null, null, null, null, null, null, null);
                    }
                });
    }
   ```
  
   3. íšŒì›ê°€ì…ì—ì„œ ì…ë ¥í•œ ì •ë³´ë¥¼ Firebase Realtime DataBase usersì— ì €ì¥í•œë‹¤. ê°ê°ì˜ íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ë‹¤.
   <table>
     <tr>
     <td>íƒ€ì…</td>
     <td>ì„¤ë¬¸ ì •ë³´</td>
    </tr>
    <tr>
     <td>String</td>
     <td>name, birth, phone, address</td>
    </tr>
   </table>

  
   ```
   // íŒŒì´ì–´ë² ì´ìŠ¤ Realtime Database ì €ì¥ í˜•ì‹
  public static class User {
        public String name;
        public String birth;
        public String phone;
        public String address;

        public User() {
            // Default constructor required for calls to DataSnapshot.getValue(User.class)
        }

        public User(String name, String birth, String phone, String address) {
            this.name = name;
            this.birth = birth;
            this.phone = phone;
            this.address = address;
        }

   // Firebase Realtime Database ì €ì¥ í•¨ìˆ˜
  private void writeNewUser(String email, String name, String birth, String phone, String,address) {
        //Firebase Realtime Datase ì°¸ì¡°
        database = FirebaseDatabase.getInstance().getReference();
        //ìƒˆë¡œìš´ Userê°ì²´ ìƒì„±
        User user = new User(name, birth, phone, address);
        //'users' ë…¸ë“œ ì•„ë˜ì— ì´ë©”ì¼ì„ í‚¤ë¡œ í•˜ì—¬ ì‚¬ìš©ì ë°ì´í„° ì €
        database.child("users").child(email).setValue(user);
    }
   ```
  
   4. signIn í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ Firebase Authenticationì— ì €ì¥ëœ ë°ì´í„°ì™€ ì¼ì¹˜ ì—¬ë¶€ë¥¼ íŒë‹¨í•œë‹¤.
      Firebase Realtime Databaseì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ì—¬ ë³€ìˆ˜ì— ì €ì¥í•œ ë’¤ ë§ˆì´í˜ì´ì§€ ë‚´ìš©ì„ ìœ ì €ì— ë§ê²Œ ë³€ê²½í•œë‹¤.
   ``` 
    // ë¡œê·¸ì¸ í•¨ìˆ˜
   private void signIn(String email, String password) {
         //Firebase Authenticationì„ ì´ìš©í•˜ì—¬ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸ ì‹œë„
        auth.signInWithEmailAndPassword(email, password)
                .addOnCompleteListener(this, new OnCompleteListener<com.google.firebase.auth.AuthResult>() {
                    @Override
                    public void onComplete(@NonNull Task<com.google.firebase.auth.AuthResult> task) {
                        if (task.isSuccessful()) {
                            //ë¡œê·¸ì¸ ì„±ê³µ
                            FirebaseUser user = auth.getCurrentUser();
                            if (user != null) {
                                //ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
                                String uid = user.getUid();
                                String userEmail = user.getEmail();

                                //UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ í˜¸ì¶œ
                                updateUI("uid", uid);
                                updateUI("email", userEmail);
                                updateUI("password", password);

                                //Firebase Realtime Databaseì˜ ì°¸ì¡° ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                                database = FirebaseDatabase.getInstance().getReference();
                                
                                //ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì´ë¦„ ê°€ì ¸ì˜¤ê¸° database.child("users").child(uid).child("name").addListenerForSingleValueEvent(new ValueEventListener() {
                                    @Override
                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
                                        if (snapshot.exists()) {
                                            String nameValue = snapshot.getValue(String.class);
                                            updateUI("name", nameValue);
                                        }
                                    }

                                    @Override
                                    public void onCancelled(@NonNull DatabaseError error) {
                                        // Not yet implemented
                                    }
                                });
                                
                                  //ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ìƒì¼ì¼ ê°€ì ¸ì˜¤ê¸°database.child("users").child(uid).child("birth").addListenerForSingleValueEvent(new ValueEventListener() {
                                    @Override
                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
                                        if (snapshot.exists()) {
                                            String birthValue = snapshot.getValue(String.class);
                                            updateUI("birth", birthValue);
                                        }
                                    }

                                    @Override
                                    public void onCancelled(@NonNull DatabaseError error) {
                                        // Not yet implemented
                                    }
                                });
                                //ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°database.child("users").child(uid).child("phone").addListenerForSingleValueEvent(new ValueEventListener() {
                                    @Override
                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
                                        if (snapshot.exists()) {
                                            String phoneValue = snapshot.getValue(String.class);
                                            updateUI("phone", phoneValue);
                                        }
                                    }

                                    @Override
                                    public void onCancelled(@NonNull DatabaseError error) {
                                        // Not yet implemented
                                    }
                                });
                                //ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì£¼ì†Œì†Œ ê°€ì ¸ì˜¤ê¸°database.child("users").child(uid).child("address").addListenerForSingleValueEvent(new ValueEventListener() {
                                    @Override
                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
                                        if (snapshot.exists()) {
                                            String addressValue = snapshot.getValue(String.class);
                                            updateUI("address", addressValue);
                                        }
                                    }

                                    @Override
                                    public void onCancelled(@NonNull DatabaseError error) {
                                        // Not yet implemented
                                    }
                                });
                                
                                //ë°ì´í„° ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì„¤ë¬¸ ì •ë³´ë³´ ê°€ì ¸ì˜¤ê¸°  
                                database.child("Survey").addValueEventListener(new ValueEventListener() {
                                    @Override
                                    public void onDataChange(@NonNull DataSnapshot snapshot) {
                                        for (DataSnapshot dataSnapshot : snapshot.getChildren()) {
                                            String userId = dataSnapshot.child("user_id").getValue(String.class);
                                            if (userId != null && userId.equals(userEmail)) {
                                                String heightValue = dataSnapshot.child("user_height").getValue(String.class);
                                                updateUI("height", heightValue);
                                                Integer proteinAmountValue = dataSnapshot.child("user_proteinAmount").getValue(Integer.class);
                                                if (proteinAmountValue != null) {
                                                    updateUI("proteinAmount", String.valueOf(proteinAmountValue));
                                                }
                                                break;
                                            }
                                        }
                                    }

                                    @Override
                                    public void onCancelled(@NonNull DatabaseError error) {
                                        // Not yet implemented
                                    }
                                });
                            }
                        } else {  //ë¡œê·¸ì¸ ì‹¤íŒ¨ì‹œì‹œ
                            Toast.makeText(LoginActivity.this, "ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì˜ëª» ì…ë ¥í–ˆìŠµë‹ˆë‹¤.", Toast.LENGTH_SHORT).show();
                            updateUI("uid", null);
                            updateUI("email", null);
                            updateUI("password", null);
                            updateUI("name", null);
                            updateUI("birth", null);
                            updateUI("phone", null);
                            updateUI("address", null);
                            updateUI("height", null);
                            updateUI("weight", null);
                            updateUI("proteinAmount", null);
                        }
                    }
                });
    }
   ```
  
   5. ì´ë¯¸ ë¡œê·¸ì¸í•œ ìœ ì €ëŠ” ë³„ë„ì˜ ë¡œê·¸ì¸ì—†ì´ ë©”ì¸ ì•¡í‹°ë¹„í‹°ë¡œ ì´ë™í•œë‹¤.
   ``` 
    protected void onStart() {
        super.onStart();
        //í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´ ì €ì¥
        FirebaseUser currentUser = auth.getCurrentUser();
        if (currentUser != null) {//ë¡œê·¸ì¸ ê¸°ë¡ ìˆìœ¼ë©´ reloadí•¨ìˆ˜ ì‹¤í–‰
            reload();
        }
    }

     // ë¡œê·¸ì¸ ê¸°ë¡ì´ ìˆìœ¼ë©´ ë©”ì¸ ì•¡í‹°ë¹„í‹°ë¡œ ì´ë™
    private void reload() {
        //MainActivy ì¸í…íŠ¸ ìƒì„±
        Intent intent = new Intent(this, MainActivity.class);
        //MainActivity ì¸í…íŠ¸ ì‹¤í–‰
        startActivity(intent);
        //í˜„ì¬ ì•¡í‹°ë¹„í‹° ì¢…ë£Œ
        finish();
    }

   ```
   6. ë¡œê·¸ì•„ì›ƒ
   ``` 
   // ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥
  getBinding().fgProfileTvLogout.setOnClickListener(new View.OnClickListener() {
    @Override
    public void onClick(View v) {
        // Firebase ì¸ì¦ì—ì„œ ë¡œê·¸ì•„ì›ƒ
        FirebaseAuth.getInstance().signOut();
        
        // UIë¥¼ ì´ˆê¸° ìƒíƒœë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
        updateUI(null, null, null, null, null, null, null, null, null, null);
        updateUI2(null, null, null);
        
        // LoginActivityë¡œ ì´ë™í•˜ëŠ” ì¸í…íŠ¸ë¥¼ ìƒì„±í•˜ê³  ì‹œì‘
        Intent intent = new Intent(requireContext(), LoginActivity.class);
        startActivity(intent);
    }
});
   ```

 #### 2. ì„¤ë¬¸ì¡°ì‚¬ ì •ë³´
  1. ì„¤ë¬¸ì¡°ì‚¬ì—ì„œ ì¡°ì‚¬í•œ ì„¤ë¬¸ì •ë³´ë¥¼ Firebase Realtime DataBaseì— ì €ì¥í•œë‹¤. ê°ê°ì˜ íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ë‹¤.
  <table>
    <tr>
    <td>íƒ€ì…</td>
    <td>ì„¤ë¬¸ ì •ë³´</td>
   </tr>
   <tr>
    <td>String</td>
    <td>user_id, user_height, user_weight, user_proteinPurpose, user_trainingPurpose, user_trainingTime, user_snackYn</td>
   </tr>
   <tr>
    <td>Int</td>
    <td>user_proteinAmount</td>
   </tr>
   <tr>
    <td>List<String>?</td>
    <td>user_dietCnt, user_allergy</td>
   </tr>
   <tr>
    <td>List<String>?</td>
    <td>user_proPre, user_flaPre</td>
   </tr>
  </table>
  
  ``` 
public class Survey {
    private String user_id;
    private String user_height;
    private String user_weight;
    private String user_proteinPurpose;
    private String user_trainingPurpose;
    private String user_trainingCnt;
    private String user_trainingTime;
    private List<String> user_dietCnt;
    private List<String> user_allergy;
    private String user_snackYn;
    private List<Integer> user_proPre;
    private List<Integer> user_flaPre;
    private Integer user_proteinAmount;

    public Survey() {
        // Default constructor required for Firebase
    }

    public Survey(String user_id, String user_height, String user_weight, String user_proteinPurpose,
                  String user_trainingPurpose, String user_trainingCnt, String user_trainingTime,
                  List<String> user_dietCnt, List<String> user_allergy, String user_snackYn,
                  List<Integer> user_proPre, List<Integer> user_flaPre, Integer user_proteinAmount) {
        this.user_id = user_id;
        this.user_height = user_height;
        this.user_weight = user_weight;
        this.user_proteinPurpose = user_proteinPurpose;
        this.user_trainingPurpose = user_trainingPurpose;
        this.user_trainingCnt = user_trainingCnt;
        this.user_trainingTime = user_trainingTime;
        this.user_dietCnt = user_dietCnt;
        this.user_allergy = user_allergy;
        this.user_snackYn = user_snackYn;
        this.user_proPre = user_proPre;
        this.user_flaPre = user_flaPre;
        this.user_proteinAmount = user_proteinAmount;
    }
  //.....get,set()í•¨ìˆ˜ ìƒëµ
}
 ```

   2. ì„¤ë¬¸ì¡°ì‚¬ë¥¼ í•˜ë©´ì„œ ì €ì¥í•´ë‘” ìœ ì €ì˜ í‚¤, ëª¸ë¬´ê²Œ, í•„ìš”ë‹¨ë°±ì§ˆëŸ‰ì„ í”„ë˜í¼ëŸ°ìŠ¤ë¡œ ì €ì¥í•˜ì—¬ í”„ë¡œí•„ í™”ë©´ì—ì„œ ìœ ì €ê°€ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.
   ê·¸ë¦¬ê³  ì„¤ë¬¸ì¡°ì‚¬ ìˆ˜ì •í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¤ë¬¸ì¡°ì‚¬ ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.
   ``` 
 private void setListener() {
        if(getBinding()==null)
            return;
        // ë§ˆì´í˜ì´ì§€ ê°œì¸ì •ë³´ í‘œì‹œ
        SharedPreferences sharedPreference = requireContext().getSharedPreferences("userInfo", Context.MODE_PRIVATE);

        //SharedPreferencesì—ì„œ ì²´ì¤‘, ì‹ ì¥, ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ ê°’ ê°€ì ¸ì˜¤ê¸°
        String weightValue = sharedPreference.getString("weight", "User weight");
        String heightValue = sharedPreference.getString("height", "User height");
        String proteinAmountValue = sharedPreference.getString("proteinAmount", "User proteinAmount");
        //UIì— ì²´ì¤‘, ì‹ ì¥, ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ ê°’ ê²°
        getBinding().fgProfileTvWeight.setText(weightValue + "kg");
        getBinding().fgProfileTvHeight.setText(heightValue + "cm");
        getBinding().fgProfileTvProtein.setText(proteinAmountValue + "g");

       // ì²´ì¤‘ ê°’ì´ ê¸°ë³¸ê°’ì¸ ê²½ìš° ì„¤ë¬¸ì¡°ì‚¬ì—ì„œ ê°€ì ¸ì˜¨ ê°’ìœ¼ë¡œ ì„¤ì •
        if ("User weight".equals(weightValue)) {
            SharedPreferences sharedPreferenceSurvey = requireContext().getSharedPreferences("surveyInfo", Context.MODE_PRIVATE);
            String weightValueSurvey = sharedPreferenceSurvey.getString("weight", "User weight");
            String heightValueSurvey = sharedPreferenceSurvey.getString("height", "User height");
            String proteinAmountValueSurvey = sharedPreferenceSurvey.getString("proteinAmount", "User proteinAmount");

             // UIì— ì„¤ë¬¸ì¡°ì‚¬ì—ì„œ ê°€ì ¸ì˜¨ ì²´ì¤‘, ì‹ ì¥, ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ ê°’ ì„¤ì •
            getBinding().fgProfileTvWeight.setText(weightValueSurvey + "kg");
            getBinding().fgProfileTvHeight.setText(heightValueSurvey + "cm");
            getBinding().fgProfileTvProtein.setText(proteinAmountValueSurvey + "g");
        }

         // ê°œì¸ì •ë³´ ìˆ˜ì • í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” í´ë¦­ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        getBinding().fgProfileLayoutSetting.setOnClickListener(v -> {
            Intent intent = new Intent(requireContext(), ProfileEditActivity.class);
            startActivity(intent);
        });

  ```

### ğŸê°œì„ í•  ì 
-ê°ì²´ ì§€í–¥ì  ì„¤ê³„ ê°œì„ 
  ```
í˜„ì¬ ì½”ë“œì—ì„œëŠ” ë¦¬ìŠ¤ë„ˆ êµ¬í˜„ì´ë‚˜ ë°ì´í„° ì²˜ë¦¬ ë¡œì§ì´ í™œë°œíˆ ì‚¬ìš©ë˜ê³  ìˆì§€ë§Œ, ì´ë¥¼ ê°ì²´ ì§€í–¥ì ìœ¼ë¡œ ì¬êµ¬ì„±í•˜ì—¬ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, BaseActivityì™€ BaseFragmentì—ì„œ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ê³ , ê³µí†µ ê¸°ëŠ¥ì„ ìƒì†ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ```

- ì„¤ë¬¸ì¡°ì‚¬ ë°˜ì˜
  ```
ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°ì˜ ì €ì¥ ë° ìˆ˜ì • ë¶€ë¶„ì—ì„œ SharedPreferencesë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë‚˜, Firebase Realtime Databaseì™€ì˜ ì—°ë™ì„ ì™„ë²½íˆ êµ¬í˜„í•˜ì§€ ëª»í•œ ìƒí™©ì…ë‹ˆë‹¤.
getBinding()í•˜ëŠ” ë¶€ë¶„ì—ì„œ ê³„ì† null ê°’ì´ ë‚˜ì˜¤ëŠ”ë° ìˆ˜ì •/ë³´ìˆ˜ í•„ìš”í•©ë‹ˆë‹¤.
  ```

-UI/UX ê°œì„ 
  ```
í˜„ì¬ UIëŠ” ì´ë¯¸ì§€ì™€ ì„¤ëª…ì´ ì¡°í•©ëœ í˜•íƒœë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì‚¬ìš©ì ê²½í—˜ì„ ë” í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.
ë©”ì¸ í˜ì´ì§€ì˜ ë°ì´í„°ë¥¼ ë” ì§ê´€ì ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤.
  ```
